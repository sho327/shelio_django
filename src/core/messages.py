MESSAGES = {
    # ----- DEBUG関連ログメッセージ -----
    "MSGD001": "{0}",
    "MSGD002": "{0} 処理時間: {1}",
    # ----- INFO関連ログメッセージ -----
    "MSGI001": "{0}",
    "MSGI002": "サービスが起動されました。",
    "MSGI003": "処理開始します。 処理名: {0} リクエスト内容: {1}",
    # ----- WARNING関連ログメッセージ -----
    "MSGW001": "{0}",
    # ... 他のメッセージ定義
    # ----- ERROR関連ログメッセージ -----
    "MSGE001": "{0}",
    "MSGE002": "予期せぬエラーが発生しました。エラー詳細: {0}%s",  # %sを追加してスタックトレースを確実に出力
    # 認証関連のエラーメッセージ
    "MSGE101": "認証処理で予期せぬエラーが発生しました。識別子: {0} 詳細: {1}",
    "MSGE102": "データベースに同一識別子のユーザが複数存在します。識別子: {0}",
    # ログイン処理専用のエラーメッセージ
    "MSGE201": "ログイン認証に失敗しました。メールアドレス: {0} エラーID: {1} メッセージ: {2}",
    "MSGE202": "アカウントがロックされているためログインできませんでした。メールアドレス: {0} エラーID: {1}",
    "MSGE203": "ログイン処理中にデータベース整合性エラーが発生しました。メールアドレス: {0} エラーID: {1} 詳細: {2}",
    # 新規登録処理専用のエラーメッセージ
    "MSGE301": "新規登録処理中にメールアドレス重複エラーが発生しました。メールアドレス: {0} エラーID: {1}",
    "MSGE302": "新規登録処理中にデータベース整合性エラーが発生しました。メールアドレス: {0} エラーID: {1} 詳細: {2}",
    "MSGE303": "新規登録処理中に外部サービスエラーが発生しました。メールアドレス: {0} エラーID: {1}",
    # アクティベーション処理専用のエラーメッセージ
    "MSGE401": "アクティベーション処理でトークンが無効または期限切れです。トークン: {0} エラーID: {1}",
    "MSGE402": "アクティベーション処理でアカウントが既に有効化済みです。ユーザーID: {0} エラーID: {1}",
    # パスワードリセット要求専用のエラーメッセージ
    "MSGE501": "パスワードリセット要求処理中にデータベース整合性エラーが発生しました。メールアドレス: {0} エラーID: {1} 詳細: {2}",
    "MSGE502": "パスワードリセット要求処理中に外部サービスエラーが発生しました。メールアドレス: {0} エラーID: {1}",
    # パスワードリセット実行専用のエラーメッセージ
    "MSGE601": "パスワードリセット実行でトークンが無効または期限切れです。トークン: {0} エラーID: {1}",
    "MSGE602": "パスワードリセット実行処理中にデータベース整合性エラーが発生しました。ユーザーID: {0} エラーID: {1} 詳細: {2}",
    # ログアウト処理専用のエラーメッセージ
    "MSGE701": "ログアウト処理中にセッション削除エラーが発生しました。ユーザーID: {0}",
    # 初期設定処理専用のエラーメッセージ
    "MSGE801": "初期設定処理中にデータベース整合性エラーが発生しました。ユーザーID: {0} エラーID: {1} 詳細: {2}",
    "MSGE802": "初期設定処理中に外部サービスエラーが発生しました。ユーザーID: {0} エラーID: {1}",
}


def get_message(message_id: str, params: list) -> str:
    """メッセージIDに対応する内容を取得し、パラメータを挿入する"""
    message = MESSAGES.get(message_id, f"ERROR: Message ID {message_id} not found.")
    try:
        return message.format(*params)
    except IndexError:
        return f"ERROR: Message ID {message_id} parameter mismatch."
